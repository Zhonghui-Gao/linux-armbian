# 0 "arch/arm64/boot/dts/ti/k3-j721e-evm-quad-port-eth-exp.dtso"
# 0 "<built-in>"
# 0 "<command-line>"
# 1 "arch/arm64/boot/dts/ti/k3-j721e-evm-quad-port-eth-exp.dtso"
# 9 "arch/arm64/boot/dts/ti/k3-j721e-evm-quad-port-eth-exp.dtso"
/dts-v1/;
/plugin/;

# 1 "./scripts/dtc/include-prefixes/dt-bindings/gpio/gpio.h" 1
# 13 "arch/arm64/boot/dts/ti/k3-j721e-evm-quad-port-eth-exp.dtso" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/mux/ti-serdes.h" 1
# 14 "arch/arm64/boot/dts/ti/k3-j721e-evm-quad-port-eth-exp.dtso" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/phy/phy.h" 1
# 15 "arch/arm64/boot/dts/ti/k3-j721e-evm-quad-port-eth-exp.dtso" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/phy/phy-cadence.h" 1
# 16 "arch/arm64/boot/dts/ti/k3-j721e-evm-quad-port-eth-exp.dtso" 2

# 1 "arch/arm64/boot/dts/ti/k3-pinctrl.h" 1
# 18 "arch/arm64/boot/dts/ti/k3-j721e-evm-quad-port-eth-exp.dtso" 2

&{/} {
 aliases {
  ethernet1 = "/bus@100000/ethernet@c000000/ethernet-ports/port@1";
  ethernet2 = "/bus@100000/ethernet@c000000/ethernet-ports/port@2";
  ethernet3 = "/bus@100000/ethernet@c000000/ethernet-ports/port@3";
  ethernet4 = "/bus@100000/ethernet@c000000/ethernet-ports/port@4";
 };
};

&cpsw0 {
 status = "okay";
};

&cpsw0_port1 {
 status = "okay";
 phy-handle = <&cpsw9g_phy0>;
 phy-mode = "qsgmii";
 mac-address = [00 00 00 00 00 00];
 phys = <&cpsw0_phy_gmii_sel 1>;
};

&cpsw0_port2 {
 status = "okay";
 phy-handle = <&cpsw9g_phy1>;
 phy-mode = "qsgmii";
 mac-address = [00 00 00 00 00 00];
 phys = <&cpsw0_phy_gmii_sel 2>;
};

&cpsw0_port3 {
 status = "okay";
 phy-handle = <&cpsw9g_phy2>;
 phy-mode = "qsgmii";
 mac-address = [00 00 00 00 00 00];
 phys = <&cpsw0_phy_gmii_sel 3>;
};

&cpsw0_port4 {
 status = "okay";
 phy-handle = <&cpsw9g_phy3>;
 phy-mode = "qsgmii";
 mac-address = [00 00 00 00 00 00];
 phys = <&cpsw0_phy_gmii_sel 4>;
};

&cpsw9g_mdio {
 status = "okay";
 pinctrl-names = "default";
 pinctrl-0 = <&mdio0_pins_default>;
 reset-gpios = <&exp2 17 1>;
 reset-post-delay-us = <120000>;
 #address-cells = <1>;
 #size-cells = <0>;

 cpsw9g_phy0: ethernet-phy@17 {
  reg = <17>;
 };
 cpsw9g_phy1: ethernet-phy@16 {
  reg = <16>;
 };
 cpsw9g_phy2: ethernet-phy@18 {
  reg = <18>;
 };
 cpsw9g_phy3: ethernet-phy@19 {
  reg = <19>;
 };
};

&exp2 {
 qsgmii-line-hog {
  gpio-hog;
  gpios = <16 0>;
  output-low;
  line-name = "qsgmii-pwrdn-line";
 };
};

&main_pmx0 {
 mdio0_pins_default: mdio0-pins-default {
  pinctrl-single,pins = <
   (((0x1bc) & 0x1fff)) ((((0 << (18)) | (1 << (16)))) | (0))
   (((0x1b8) & 0x1fff)) ((((1 << (18)) | (1 << (16)))) | (0))
  >;
 };
};

&serdes_ln_ctrl {
 idle-states = <0x1>, <0x0>,
        <0x1>, <0x1>,
        <0x1>, <0x1>,
        <0x2>, <0x2>,
        <0x0>, <0x0>,
        <0x0>, <0x0>;
};

&serdes_wiz0 {
 status = "okay";
};

&serdes0 {
 status = "okay";

 assigned-clocks = <&serdes0 0>, <&serdes0 1>;
 assigned-clock-parents = <&wiz0_pll1_refclk>, <&wiz0_pll1_refclk>;
 #address-cells = <1>;
 #size-cells = <0>;

 serdes0_qsgmii_link: phy@1 {
  reg = <1>;
  cdns,num-lanes = <1>;
  #phy-cells = <0>;
  cdns,phy-type = <9>;
  resets = <&serdes_wiz0 2>;
 };
};
