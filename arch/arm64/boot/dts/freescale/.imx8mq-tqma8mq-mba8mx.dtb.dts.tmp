# 0 "arch/arm64/boot/dts/freescale/imx8mq-tqma8mq-mba8mx.dts"
# 0 "<built-in>"
# 0 "<command-line>"
# 1 "arch/arm64/boot/dts/freescale/imx8mq-tqma8mq-mba8mx.dts"





/dts-v1/;

# 1 "arch/arm64/boot/dts/freescale/imx8mq-tqma8mq.dtsi" 1





# 1 "arch/arm64/boot/dts/freescale/imx8mq.dtsi" 1






# 1 "./scripts/dtc/include-prefixes/dt-bindings/clock/imx8mq-clock.h" 1
# 8 "arch/arm64/boot/dts/freescale/imx8mq.dtsi" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/power/imx8mq-power.h" 1
# 9 "arch/arm64/boot/dts/freescale/imx8mq.dtsi" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/reset/imx8mq-reset.h" 1
# 10 "arch/arm64/boot/dts/freescale/imx8mq.dtsi" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/gpio/gpio.h" 1
# 11 "arch/arm64/boot/dts/freescale/imx8mq.dtsi" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/input/input.h" 1
# 13 "./scripts/dtc/include-prefixes/dt-bindings/input/input.h"
# 1 "./scripts/dtc/include-prefixes/dt-bindings/input/linux-event-codes.h" 1
# 14 "./scripts/dtc/include-prefixes/dt-bindings/input/input.h" 2
# 12 "arch/arm64/boot/dts/freescale/imx8mq.dtsi" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/arm-gic.h" 1
# 9 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/arm-gic.h"
# 1 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/irq.h" 1
# 10 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/arm-gic.h" 2
# 13 "arch/arm64/boot/dts/freescale/imx8mq.dtsi" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/thermal/thermal.h" 1
# 14 "arch/arm64/boot/dts/freescale/imx8mq.dtsi" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/interconnect/imx8mq.h" 1
# 15 "arch/arm64/boot/dts/freescale/imx8mq.dtsi" 2
# 1 "arch/arm64/boot/dts/freescale/imx8mq-pinfunc.h" 1
# 16 "arch/arm64/boot/dts/freescale/imx8mq.dtsi" 2

/ {
 interrupt-parent = <&gpc>;

 #address-cells = <2>;
 #size-cells = <2>;

 aliases {
  ethernet0 = &fec1;
  gpio0 = &gpio1;
  gpio1 = &gpio2;
  gpio2 = &gpio3;
  gpio3 = &gpio4;
  gpio4 = &gpio5;
  i2c0 = &i2c1;
  i2c1 = &i2c2;
  i2c2 = &i2c3;
  i2c3 = &i2c4;
  mmc0 = &usdhc1;
  mmc1 = &usdhc2;
  serial0 = &uart1;
  serial1 = &uart2;
  serial2 = &uart3;
  serial3 = &uart4;
  spi0 = &ecspi1;
  spi1 = &ecspi2;
  spi2 = &ecspi3;
 };

 ckil: clock-ckil {
  compatible = "fixed-clock";
  #clock-cells = <0>;
  clock-frequency = <32768>;
  clock-output-names = "ckil";
 };

 osc_25m: clock-osc-25m {
  compatible = "fixed-clock";
  #clock-cells = <0>;
  clock-frequency = <25000000>;
  clock-output-names = "osc_25m";
 };

 osc_27m: clock-osc-27m {
  compatible = "fixed-clock";
  #clock-cells = <0>;
  clock-frequency = <27000000>;
  clock-output-names = "osc_27m";
 };

 hdmi_phy_27m: clock-hdmi-phy-27m {
  compatible = "fixed-clock";
  #clock-cells = <0>;
  clock-frequency = <27000000>;
  clock-output-names = "hdmi_phy_27m";
 };

 clk_ext1: clock-ext1 {
  compatible = "fixed-clock";
  #clock-cells = <0>;
  clock-frequency = <133000000>;
  clock-output-names = "clk_ext1";
 };

 clk_ext2: clock-ext2 {
  compatible = "fixed-clock";
  #clock-cells = <0>;
  clock-frequency = <133000000>;
  clock-output-names = "clk_ext2";
 };

 clk_ext3: clock-ext3 {
  compatible = "fixed-clock";
  #clock-cells = <0>;
  clock-frequency = <133000000>;
  clock-output-names = "clk_ext3";
 };

 clk_ext4: clock-ext4 {
  compatible = "fixed-clock";
  #clock-cells = <0>;
  clock-frequency = <133000000>;
  clock-output-names = "clk_ext4";
 };

 cpus {
  #address-cells = <1>;
  #size-cells = <0>;

  A53_0: cpu@0 {
   device_type = "cpu";
   compatible = "arm,cortex-a53";
   reg = <0x0>;
   clock-latency = <61036>;
   clocks = <&clk 258>;
   enable-method = "psci";
   i-cache-size = <0x8000>;
   i-cache-line-size = <64>;
   i-cache-sets = <256>;
   d-cache-size = <0x8000>;
   d-cache-line-size = <64>;
   d-cache-sets = <128>;
   next-level-cache = <&A53_L2>;
   operating-points-v2 = <&a53_opp_table>;
   #cooling-cells = <2>;
   nvmem-cells = <&cpu_speed_grade>;
   nvmem-cell-names = "speed_grade";
  };

  A53_1: cpu@1 {
   device_type = "cpu";
   compatible = "arm,cortex-a53";
   reg = <0x1>;
   clock-latency = <61036>;
   clocks = <&clk 258>;
   enable-method = "psci";
   i-cache-size = <0x8000>;
   i-cache-line-size = <64>;
   i-cache-sets = <256>;
   d-cache-size = <0x8000>;
   d-cache-line-size = <64>;
   d-cache-sets = <128>;
   next-level-cache = <&A53_L2>;
   operating-points-v2 = <&a53_opp_table>;
   #cooling-cells = <2>;
  };

  A53_2: cpu@2 {
   device_type = "cpu";
   compatible = "arm,cortex-a53";
   reg = <0x2>;
   clock-latency = <61036>;
   clocks = <&clk 258>;
   enable-method = "psci";
   i-cache-size = <0x8000>;
   i-cache-line-size = <64>;
   i-cache-sets = <256>;
   d-cache-size = <0x8000>;
   d-cache-line-size = <64>;
   d-cache-sets = <128>;
   next-level-cache = <&A53_L2>;
   operating-points-v2 = <&a53_opp_table>;
   #cooling-cells = <2>;
  };

  A53_3: cpu@3 {
   device_type = "cpu";
   compatible = "arm,cortex-a53";
   reg = <0x3>;
   clock-latency = <61036>;
   clocks = <&clk 258>;
   enable-method = "psci";
   i-cache-size = <0x8000>;
   i-cache-line-size = <64>;
   i-cache-sets = <256>;
   d-cache-size = <0x8000>;
   d-cache-line-size = <64>;
   d-cache-sets = <128>;
   next-level-cache = <&A53_L2>;
   operating-points-v2 = <&a53_opp_table>;
   #cooling-cells = <2>;
  };

  A53_L2: l2-cache0 {
   compatible = "cache";
   cache-level = <2>;
   cache-unified;
   cache-size = <0x100000>;
   cache-line-size = <64>;
   cache-sets = <1024>;
  };
 };

 a53_opp_table: opp-table {
  compatible = "operating-points-v2";
  opp-shared;

  opp-800000000 {
   opp-hz = /bits/ 64 <800000000>;
   opp-microvolt = <900000>;

   opp-supported-hw = <0xf>, <0x4>;
   clock-latency-ns = <150000>;
   opp-suspend;
  };

  opp-1000000000 {
   opp-hz = /bits/ 64 <1000000000>;
   opp-microvolt = <900000>;

   opp-supported-hw = <0xe>, <0x3>;
   clock-latency-ns = <150000>;
   opp-suspend;
  };

  opp-1300000000 {
   opp-hz = /bits/ 64 <1300000000>;
   opp-microvolt = <1000000>;
   opp-supported-hw = <0xc>, <0x4>;
   clock-latency-ns = <150000>;
   opp-suspend;
  };

  opp-1500000000 {
   opp-hz = /bits/ 64 <1500000000>;
   opp-microvolt = <1000000>;
   opp-supported-hw = <0x8>, <0x3>;
   clock-latency-ns = <150000>;
   opp-suspend;
  };
 };

 pmu {
  compatible = "arm,cortex-a53-pmu";
  interrupts = <1 7 4>;
  interrupt-parent = <&gic>;
 };

 psci {
  compatible = "arm,psci-1.0";
  method = "smc";
 };

 thermal-zones {
  cpu_thermal: cpu-thermal {
   polling-delay-passive = <250>;
   polling-delay = <2000>;
   thermal-sensors = <&tmu 0>;

   trips {
    cpu_alert: cpu-alert {
     temperature = <80000>;
     hysteresis = <2000>;
     type = "passive";
    };

    cpu-crit {
     temperature = <90000>;
     hysteresis = <2000>;
     type = "critical";
    };
   };

   cooling-maps {
    map0 {
     trip = <&cpu_alert>;
     cooling-device =
      <&A53_0 (~0) (~0)>,
      <&A53_1 (~0) (~0)>,
      <&A53_2 (~0) (~0)>,
      <&A53_3 (~0) (~0)>;
    };
   };
  };

  gpu-thermal {
   polling-delay-passive = <250>;
   polling-delay = <2000>;
   thermal-sensors = <&tmu 1>;

   trips {
    gpu_alert: gpu-alert {
     temperature = <80000>;
     hysteresis = <2000>;
     type = "passive";
    };

    gpu-crit {
     temperature = <90000>;
     hysteresis = <2000>;
     type = "critical";
    };
   };

   cooling-maps {
    map0 {
     trip = <&gpu_alert>;
     cooling-device =
      <&gpu (~0) (~0)>;
    };
   };
  };

  vpu-thermal {
   polling-delay-passive = <250>;
   polling-delay = <2000>;
   thermal-sensors = <&tmu 2>;

   trips {
    vpu-crit {
     temperature = <90000>;
     hysteresis = <2000>;
     type = "critical";
    };
   };
  };
 };

 timer {
  compatible = "arm,armv8-timer";
  interrupts = <1 13 8>,
               <1 14 8>,
               <1 11 8>,
               <1 10 8>;
  interrupt-parent = <&gic>;
  arm,no-tick-in-suspend;
 };

 soc: soc@0 {
  compatible = "fsl,imx8mq-soc", "simple-bus";
  #address-cells = <1>;
  #size-cells = <1>;
  ranges = <0x0 0x0 0x0 0x3e000000>;
  dma-ranges = <0x40000000 0x0 0x40000000 0xc0000000>;
  nvmem-cells = <&imx8mq_uid>;
  nvmem-cell-names = "soc_unique_id";

  aips1: bus@30000000 {
   compatible = "fsl,aips-bus", "simple-bus";
   reg = <0x30000000 0x400000>;
   #address-cells = <1>;
   #size-cells = <1>;
   ranges = <0x30000000 0x30000000 0x400000>;

   sai1: sai@30010000 {
    #sound-dai-cells = <0>;
    compatible = "fsl,imx8mq-sai";
    reg = <0x30010000 0x10000>;
    interrupts = <0 95 4>;
    clocks = <&clk 238>,
             <&clk 196>,
             <&clk 0>, <&clk 0>;
    clock-names = "bus", "mclk1", "mclk2", "mclk3";
    dmas = <&sdma2 8 24 0>, <&sdma1 9 24 0>;
    dma-names = "rx", "tx";
    status = "disabled";
   };

   sai6: sai@30030000 {
    #sound-dai-cells = <0>;
    compatible = "fsl,imx8mq-sai";
    reg = <0x30030000 0x10000>;
    interrupts = <0 90 4>;
    clocks = <&clk 243>,
             <&clk 201>,
             <&clk 0>, <&clk 0>;
    clock-names = "bus", "mclk1", "mclk2", "mclk3";
    dmas = <&sdma2 4 24 0>, <&sdma2 5 24 0>;
    dma-names = "rx", "tx";
    status = "disabled";
   };

   sai5: sai@30040000 {
    #sound-dai-cells = <0>;
    compatible = "fsl,imx8mq-sai";
    reg = <0x30040000 0x10000>;
    interrupts = <0 90 4>;
    clocks = <&clk 242>,
             <&clk 200>,
             <&clk 0>, <&clk 0>;
    clock-names = "bus", "mclk1", "mclk2", "mclk3";
    dmas = <&sdma2 2 24 0>, <&sdma2 3 24 0>;
    dma-names = "rx", "tx";
    status = "disabled";
   };

   sai4: sai@30050000 {
    #sound-dai-cells = <0>;
    compatible = "fsl,imx8mq-sai";
    reg = <0x30050000 0x10000>;
    interrupts = <0 100 4>;
    clocks = <&clk 241>,
             <&clk 199>,
             <&clk 0>, <&clk 0>;
    clock-names = "bus", "mclk1", "mclk2", "mclk3";
    dmas = <&sdma2 0 24 0>, <&sdma2 1 24 0>;
    dma-names = "rx", "tx";
    status = "disabled";
   };

   gpio1: gpio@30200000 {
    compatible = "fsl,imx8mq-gpio", "fsl,imx35-gpio";
    reg = <0x30200000 0x10000>;
    interrupts = <0 64 4>,
                 <0 65 4>;
    clocks = <&clk 259>;
    gpio-controller;
    #gpio-cells = <2>;
    interrupt-controller;
    #interrupt-cells = <2>;
    gpio-ranges = <&iomuxc 0 10 30>;
   };

   gpio2: gpio@30210000 {
    compatible = "fsl,imx8mq-gpio", "fsl,imx35-gpio";
    reg = <0x30210000 0x10000>;
    interrupts = <0 66 4>,
                 <0 67 4>;
    clocks = <&clk 260>;
    gpio-controller;
    #gpio-cells = <2>;
    interrupt-controller;
    #interrupt-cells = <2>;
    gpio-ranges = <&iomuxc 0 40 21>;
   };

   gpio3: gpio@30220000 {
    compatible = "fsl,imx8mq-gpio", "fsl,imx35-gpio";
    reg = <0x30220000 0x10000>;
    interrupts = <0 68 4>,
                 <0 69 4>;
    clocks = <&clk 261>;
    gpio-controller;
    #gpio-cells = <2>;
    interrupt-controller;
    #interrupt-cells = <2>;
    gpio-ranges = <&iomuxc 0 61 26>;
   };

   gpio4: gpio@30230000 {
    compatible = "fsl,imx8mq-gpio", "fsl,imx35-gpio";
    reg = <0x30230000 0x10000>;
    interrupts = <0 70 4>,
                 <0 71 4>;
    clocks = <&clk 262>;
    gpio-controller;
    #gpio-cells = <2>;
    interrupt-controller;
    #interrupt-cells = <2>;
    gpio-ranges = <&iomuxc 0 87 32>;
   };

   gpio5: gpio@30240000 {
    compatible = "fsl,imx8mq-gpio", "fsl,imx35-gpio";
    reg = <0x30240000 0x10000>;
    interrupts = <0 72 4>,
                 <0 73 4>;
    clocks = <&clk 263>;
    gpio-controller;
    #gpio-cells = <2>;
    interrupt-controller;
    #interrupt-cells = <2>;
    gpio-ranges = <&iomuxc 0 119 30>;
   };

   tmu: tmu@30260000 {
    compatible = "fsl,imx8mq-tmu";
    reg = <0x30260000 0x10000>;
    interrupts = <0 49 4>;
    clocks = <&clk 246>;
    little-endian;
    fsl,tmu-range = <0xb0000 0xa0026 0x80048 0x70061>;
    fsl,tmu-calibration = <0x00000000 0x00000023>,
            <0x00000001 0x00000029>,
            <0x00000002 0x0000002f>,
            <0x00000003 0x00000035>,
            <0x00000004 0x0000003d>,
            <0x00000005 0x00000043>,
            <0x00000006 0x0000004b>,
            <0x00000007 0x00000051>,
            <0x00000008 0x00000057>,
            <0x00000009 0x0000005f>,
            <0x0000000a 0x00000067>,
            <0x0000000b 0x0000006f>,

            <0x00010000 0x0000001b>,
            <0x00010001 0x00000023>,
            <0x00010002 0x0000002b>,
            <0x00010003 0x00000033>,
            <0x00010004 0x0000003b>,
            <0x00010005 0x00000043>,
            <0x00010006 0x0000004b>,
            <0x00010007 0x00000055>,
            <0x00010008 0x0000005d>,
            <0x00010009 0x00000067>,
            <0x0001000a 0x00000070>,

            <0x00020000 0x00000017>,
            <0x00020001 0x00000023>,
            <0x00020002 0x0000002d>,
            <0x00020003 0x00000037>,
            <0x00020004 0x00000041>,
            <0x00020005 0x0000004b>,
            <0x00020006 0x00000057>,
            <0x00020007 0x00000063>,
            <0x00020008 0x0000006f>,

            <0x00030000 0x00000015>,
            <0x00030001 0x00000021>,
            <0x00030002 0x0000002d>,
            <0x00030003 0x00000039>,
            <0x00030004 0x00000045>,
            <0x00030005 0x00000053>,
            <0x00030006 0x0000005f>,
            <0x00030007 0x00000071>;
    #thermal-sensor-cells = <1>;
   };

   wdog1: watchdog@30280000 {
    compatible = "fsl,imx8mq-wdt", "fsl,imx21-wdt";
    reg = <0x30280000 0x10000>;
    interrupts = <0 78 4>;
    clocks = <&clk 212>;
    status = "disabled";
   };

   wdog2: watchdog@30290000 {
    compatible = "fsl,imx8mq-wdt", "fsl,imx21-wdt";
    reg = <0x30290000 0x10000>;
    interrupts = <0 79 4>;
    clocks = <&clk 213>;
    status = "disabled";
   };

   wdog3: watchdog@302a0000 {
    compatible = "fsl,imx8mq-wdt", "fsl,imx21-wdt";
    reg = <0x302a0000 0x10000>;
    interrupts = <0 10 4>;
    clocks = <&clk 214>;
    status = "disabled";
   };

   sdma2: dma-controller@302c0000 {
    compatible = "fsl,imx8mq-sdma","fsl,imx7d-sdma";
    reg = <0x302c0000 0x10000>;
    interrupts = <0 103 4>;
    clocks = <&clk 228>,
      <&clk 228>;
    clock-names = "ipg", "ahb";
    #dma-cells = <3>;
    fsl,sdma-ram-script-name = "imx/sdma/sdma-imx7d.bin";
   };

   lcdif: lcd-controller@30320000 {
    compatible = "fsl,imx8mq-lcdif", "fsl,imx28-lcdif";
    reg = <0x30320000 0x10000>;
    interrupts = <0 5 4>;
    clocks = <&clk 128>;
    clock-names = "pix";
    assigned-clocks = <&clk 33>,
        <&clk 36>,
        <&clk 128>,
        <&clk 35>;
    assigned-clock-parents = <&clk 2>,
        <&clk 35>,
        <&clk 37>;
    assigned-clock-rates = <0>, <0>, <0>, <594000000>;
    status = "disabled";

    port {
     lcdif_mipi_dsi: endpoint {
      remote-endpoint = <&mipi_dsi_lcdif_in>;
     };
    };
   };

   iomuxc: pinctrl@30330000 {
    compatible = "fsl,imx8mq-iomuxc";
    reg = <0x30330000 0x10000>;
   };

   iomuxc_gpr: syscon@30340000 {
    compatible = "fsl,imx8mq-iomuxc-gpr", "syscon", "simple-mfd";
    reg = <0x30340000 0x10000>;

    mux: mux-controller {
     compatible = "mmio-mux";
     #mux-control-cells = <1>;
     mux-reg-masks = <0x34 0x00000004>;
    };
   };

   ocotp: efuse@30350000 {
    compatible = "fsl,imx8mq-ocotp", "syscon";
    reg = <0x30350000 0x10000>;
    clocks = <&clk 250>;
    #address-cells = <1>;
    #size-cells = <1>;
# 608 "arch/arm64/boot/dts/freescale/imx8mq.dtsi"
    imx8mq_uid: soc-uid@4 {
     reg = <0x4 0x8>;
    };

    cpu_speed_grade: speed-grade@10 {
     reg = <0x10 4>;
    };

    fec_mac_address: mac-address@90 {
     reg = <0x90 6>;
    };
   };

   anatop: clock-controller@30360000 {
    compatible = "fsl,imx8mq-anatop";
    reg = <0x30360000 0x10000>;
    interrupts = <0 49 4>;
    #clock-cells = <1>;
   };

   snvs: snvs@30370000 {
    compatible = "fsl,sec-v4.0-mon", "syscon", "simple-mfd";
    reg = <0x30370000 0x10000>;

    snvs_rtc: snvs-rtc-lp{
     compatible = "fsl,sec-v4.0-mon-rtc-lp";
     regmap =<&snvs>;
     offset = <0x34>;
     interrupts = <0 19 4>,
      <0 20 4>;
     clocks = <&clk 264>;
     clock-names = "snvs-rtc";
    };

    snvs_pwrkey: snvs-powerkey {
     compatible = "fsl,sec-v4.0-pwrkey";
     regmap = <&snvs>;
     interrupts = <0 4 4>;
     clocks = <&clk 264>;
     clock-names = "snvs-pwrkey";
     linux,keycode = <116>;
     wakeup-source;
     status = "disabled";
    };
   };

   clk: clock-controller@30380000 {
    compatible = "fsl,imx8mq-ccm";
    reg = <0x30380000 0x10000>;
    interrupts = <0 85 4>,
                 <0 86 4>;
    #clock-cells = <1>;
    clocks = <&ckil>, <&osc_25m>, <&osc_27m>,
             <&clk_ext1>, <&clk_ext2>,
             <&clk_ext3>, <&clk_ext4>;
    clock-names = "ckil", "osc_25m", "osc_27m",
                  "clk_ext1", "clk_ext2",
                  "clk_ext3", "clk_ext4";
    assigned-clocks = <&clk 88>,
        <&clk 289>,
        <&clk 113>,
        <&clk 117>,
        <&clk 26>,
        <&clk 31>,
        <&clk 25>,
        <&clk 30>;
    assigned-clock-rates = <0>, <0>,
             <800000000>,
             <0>,
             <0>,
             <0>,
             <786432000>,
             <722534400>;
    assigned-clock-parents = <&clk 78>,
        <&clk 12>,
        <0>,
        <&clk 86>,
        <&clk 25>,
        <&clk 30>;
   };

   src: reset-controller@30390000 {
    compatible = "fsl,imx8mq-src", "syscon";
    reg = <0x30390000 0x10000>;
    interrupts = <0 89 4>;
    #reset-cells = <1>;
   };

   gpc: gpc@303a0000 {
    compatible = "fsl,imx8mq-gpc";
    reg = <0x303a0000 0x10000>;
    interrupts = <0 87 4>;
    interrupt-parent = <&gic>;
    interrupt-controller;
    #interrupt-cells = <3>;

    pgc {
     #address-cells = <1>;
     #size-cells = <0>;

     pgc_mipi: power-domain@0 {
      #power-domain-cells = <0>;
      reg = <0>;
     };
# 728 "arch/arm64/boot/dts/freescale/imx8mq.dtsi"
     pgc_pcie: power-domain@1 {
      #power-domain-cells = <0>;
      reg = <1>;
      power-domains = <&pgc_pcie2>;
     };

     pgc_otg1: power-domain@2 {
      #power-domain-cells = <0>;
      reg = <2>;
     };

     pgc_otg2: power-domain@3 {
      #power-domain-cells = <0>;
      reg = <3>;
     };

     pgc_ddr1: power-domain@4 {
      #power-domain-cells = <0>;
      reg = <4>;
     };

     pgc_gpu: power-domain@5 {
      #power-domain-cells = <0>;
      reg = <5>;
      clocks = <&clk 215>,
               <&clk 102>,
        <&clk 111>,
               <&clk 112>;
     };

     pgc_vpu: power-domain@6 {
      #power-domain-cells = <0>;
      reg = <6>;
      clocks = <&clk 223>,
        <&clk 229>,
        <&clk 230>;
      assigned-clocks = <&clk 120>,
          <&clk 121>,
          <&clk 106>,
          <&clk 21>;
      assigned-clock-parents = <&clk 22>,
          <&clk 22>,
          <&clk 78>,
          <&clk 20>;
      assigned-clock-rates = <600000000>,
               <600000000>,
               <800000000>,
               <0>;
     };

     pgc_disp: power-domain@7 {
      #power-domain-cells = <0>;
      reg = <7>;
     };

     pgc_mipi_csi1: power-domain@8 {
      #power-domain-cells = <0>;
      reg = <8>;
     };

     pgc_mipi_csi2: power-domain@9 {
      #power-domain-cells = <0>;
      reg = <9>;
     };

     pgc_pcie2: power-domain@a {
      #power-domain-cells = <0>;
      reg = <10>;
     };
    };
   };
  };

  aips2: bus@30400000 {
   compatible = "fsl,aips-bus", "simple-bus";
   reg = <0x30400000 0x400000>;
   #address-cells = <1>;
   #size-cells = <1>;
   ranges = <0x30400000 0x30400000 0x400000>;

   pwm1: pwm@30660000 {
    compatible = "fsl,imx8mq-pwm", "fsl,imx27-pwm";
    reg = <0x30660000 0x10000>;
    interrupts = <0 81 4>;
    clocks = <&clk 191>,
             <&clk 191>;
    clock-names = "ipg", "per";
    #pwm-cells = <3>;
    status = "disabled";
   };

   pwm2: pwm@30670000 {
    compatible = "fsl,imx8mq-pwm", "fsl,imx27-pwm";
    reg = <0x30670000 0x10000>;
    interrupts = <0 82 4>;
    clocks = <&clk 192>,
             <&clk 192>;
    clock-names = "ipg", "per";
    #pwm-cells = <3>;
    status = "disabled";
   };

   pwm3: pwm@30680000 {
    compatible = "fsl,imx8mq-pwm", "fsl,imx27-pwm";
    reg = <0x30680000 0x10000>;
    interrupts = <0 83 4>;
    clocks = <&clk 193>,
             <&clk 193>;
    clock-names = "ipg", "per";
    #pwm-cells = <3>;
    status = "disabled";
   };

   pwm4: pwm@30690000 {
    compatible = "fsl,imx8mq-pwm", "fsl,imx27-pwm";
    reg = <0x30690000 0x10000>;
    interrupts = <0 84 4>;
    clocks = <&clk 194>,
             <&clk 194>;
    clock-names = "ipg", "per";
    #pwm-cells = <3>;
    status = "disabled";
   };

   system_counter: timer@306a0000 {
    compatible = "nxp,sysctr-timer";
    reg = <0x306a0000 0x20000>;
    interrupts = <0 47 4>;
    clocks = <&osc_25m>;
    clock-names = "per";
   };
  };

  aips3: bus@30800000 {
   compatible = "fsl,aips-bus", "simple-bus";
   reg = <0x30800000 0x400000>;
   #address-cells = <1>;
   #size-cells = <1>;
   ranges = <0x30800000 0x30800000 0x400000>,
     <0x08000000 0x08000000 0x10000000>;

   spdif1: spdif@30810000 {
    compatible = "fsl,imx35-spdif";
    reg = <0x30810000 0x10000>;
    interrupts = <0 6 4>;
    clocks = <&clk 236>,
     <&clk 2>,
     <&clk 135>,
     <&clk 0>,
     <&clk 0>,
     <&clk 0>,
     <&clk 236>,
     <&clk 0>,
     <&clk 0>,
     <&clk 0>;
    clock-names = "core", "rxtx0",
           "rxtx1", "rxtx2",
           "rxtx3", "rxtx4",
           "rxtx5", "rxtx6",
           "rxtx7", "spba";
    dmas = <&sdma1 8 18 0>, <&sdma1 9 18 0>;
    dma-names = "rx", "tx";
    status = "disabled";
   };

   ecspi1: spi@30820000 {
    #address-cells = <1>;
    #size-cells = <0>;
    compatible = "fsl,imx8mq-ecspi", "fsl,imx51-ecspi";
    reg = <0x30820000 0x10000>;
    interrupts = <0 31 4>;
    clocks = <&clk 179>,
      <&clk 179>;
    clock-names = "ipg", "per";
    dmas = <&sdma1 0 7 1>, <&sdma1 1 7 2>;
    dma-names = "rx", "tx";
    status = "disabled";
   };

   ecspi2: spi@30830000 {
    #address-cells = <1>;
    #size-cells = <0>;
    compatible = "fsl,imx8mq-ecspi", "fsl,imx51-ecspi";
    reg = <0x30830000 0x10000>;
    interrupts = <0 32 4>;
    clocks = <&clk 180>,
      <&clk 180>;
    clock-names = "ipg", "per";
    dmas = <&sdma1 2 7 1>, <&sdma1 3 7 2>;
    dma-names = "rx", "tx";
    status = "disabled";
   };

   ecspi3: spi@30840000 {
    #address-cells = <1>;
    #size-cells = <0>;
    compatible = "fsl,imx8mq-ecspi", "fsl,imx51-ecspi";
    reg = <0x30840000 0x10000>;
    interrupts = <0 33 4>;
    clocks = <&clk 181>,
      <&clk 181>;
    clock-names = "ipg", "per";
    dmas = <&sdma1 4 7 1>, <&sdma1 5 7 2>;
    dma-names = "rx", "tx";
    status = "disabled";
   };

   uart1: serial@30860000 {
    compatible = "fsl,imx8mq-uart",
                 "fsl,imx6q-uart";
    reg = <0x30860000 0x10000>;
    interrupts = <0 26 4>;
    clocks = <&clk 202>,
             <&clk 202>;
    clock-names = "ipg", "per";
    dmas = <&sdma1 22 4 0>, <&sdma1 23 4 0>;
    dma-names = "rx", "tx";
    status = "disabled";
   };

   uart3: serial@30880000 {
    compatible = "fsl,imx8mq-uart",
                 "fsl,imx6q-uart";
    reg = <0x30880000 0x10000>;
    interrupts = <0 28 4>;
    clocks = <&clk 204>,
             <&clk 204>;
    clock-names = "ipg", "per";
    dmas = <&sdma1 26 4 0>, <&sdma1 27 4 0>;
    dma-names = "rx", "tx";
    status = "disabled";
   };

   uart2: serial@30890000 {
    compatible = "fsl,imx8mq-uart",
                 "fsl,imx6q-uart";
    reg = <0x30890000 0x10000>;
    interrupts = <0 27 4>;
    clocks = <&clk 203>,
             <&clk 203>;
    clock-names = "ipg", "per";
    dmas = <&sdma1 24 4 0>, <&sdma1 25 4 0>;
    dma-names = "rx", "tx";
    status = "disabled";
   };

   spdif2: spdif@308a0000 {
    compatible = "fsl,imx35-spdif";
    reg = <0x308a0000 0x10000>;
    interrupts = <0 13 4>;
    clocks = <&clk 236>,
     <&clk 2>,
     <&clk 136>,
     <&clk 0>,
     <&clk 0>,
     <&clk 0>,
     <&clk 236>,
     <&clk 0>,
     <&clk 0>,
     <&clk 0>;
    clock-names = "core", "rxtx0",
           "rxtx1", "rxtx2",
           "rxtx3", "rxtx4",
           "rxtx5", "rxtx6",
           "rxtx7", "spba";
    dmas = <&sdma1 16 18 0>, <&sdma1 17 18 0>;
    dma-names = "rx", "tx";
    status = "disabled";
   };

   sai2: sai@308b0000 {
    #sound-dai-cells = <0>;
    compatible = "fsl,imx8mq-sai";
    reg = <0x308b0000 0x10000>;
    interrupts = <0 96 4>;
    clocks = <&clk 239>,
      <&clk 197>,
      <&clk 0>, <&clk 0>;
    clock-names = "bus", "mclk1", "mclk2", "mclk3";
    dmas = <&sdma1 10 24 0>, <&sdma1 11 24 0>;
    dma-names = "rx", "tx";
    status = "disabled";
   };

   sai3: sai@308c0000 {
    #sound-dai-cells = <0>;
    compatible = "fsl,imx8mq-sai";
    reg = <0x308c0000 0x10000>;
    interrupts = <0 50 4>;
    clocks = <&clk 240>,
             <&clk 198>,
             <&clk 0>, <&clk 0>;
    clock-names = "bus", "mclk1", "mclk2", "mclk3";
    dmas = <&sdma1 12 24 0>, <&sdma1 13 24 0>;
    dma-names = "rx", "tx";
    status = "disabled";
   };

   crypto: crypto@30900000 {
    compatible = "fsl,sec-v4.0";
    #address-cells = <1>;
    #size-cells = <1>;
    reg = <0x30900000 0x40000>;
    ranges = <0 0x30900000 0x40000>;
    interrupts = <0 91 4>;
    clocks = <&clk 116>,
      <&clk 236>;
    clock-names = "aclk", "ipg";

    sec_jr0: jr@1000 {
     compatible = "fsl,sec-v4.0-job-ring";
     reg = <0x1000 0x1000>;
     interrupts = <0 105 4>;
     status = "disabled";
    };

    sec_jr1: jr@2000 {
     compatible = "fsl,sec-v4.0-job-ring";
     reg = <0x2000 0x1000>;
     interrupts = <0 106 4>;
    };

    sec_jr2: jr@3000 {
     compatible = "fsl,sec-v4.0-job-ring";
     reg = <0x3000 0x1000>;
     interrupts = <0 114 4>;
    };
   };

   mipi_dsi: mipi-dsi@30a00000 {
    compatible = "fsl,imx8mq-nwl-dsi";
    reg = <0x30a00000 0x300>;
    clocks = <&clk 163>,
      <&clk 244>,
      <&clk 245>,
      <&clk 164>,
      <&clk 128>;
    clock-names = "core", "rx_esc", "tx_esc", "phy_ref", "lcdif";
    assigned-clocks = <&clk 244>,
        <&clk 163>,
        <&clk 245>;
    assigned-clock-parents = <&clk 71>,
        <&clk 76>;
    assigned-clock-rates = <80000000>, <266000000>, <20000000>;
    interrupts = <0 34 4>;
    mux-controls = <&mux 0>;
    power-domains = <&pgc_mipi>;
    phys = <&dphy>;
    phy-names = "dphy";
    resets = <&src 21>,
      <&src 23>,
      <&src 24>,
      <&src 25>;
    reset-names = "byte", "dpi", "esc", "pclk";
    status = "disabled";

    ports {
     #address-cells = <1>;
     #size-cells = <0>;

     port@0 {
      reg = <0>;
      #address-cells = <1>;
      #size-cells = <0>;
      mipi_dsi_lcdif_in: endpoint@0 {
       reg = <0>;
       remote-endpoint = <&lcdif_mipi_dsi>;
      };
     };
    };
   };

   dphy: dphy@30a00300 {
    compatible = "fsl,imx8mq-mipi-dphy";
    reg = <0x30a00300 0x100>;
    clocks = <&clk 164>;
    clock-names = "phy_ref";
    assigned-clocks = <&clk 33>,
        <&clk 36>,
        <&clk 164>,
        <&clk 35>;
    assigned-clock-parents = <&clk 2>,
        <&clk 35>,
        <&clk 37>;
    assigned-clock-rates = <0>, <0>, <24000000>, <594000000>;
    #phy-cells = <0>;
    power-domains = <&pgc_mipi>;
    status = "disabled";
   };

   i2c1: i2c@30a20000 {
    compatible = "fsl,imx8mq-i2c", "fsl,imx21-i2c";
    reg = <0x30a20000 0x10000>;
    interrupts = <0 35 4>;
    clocks = <&clk 184>;
    #address-cells = <1>;
    #size-cells = <0>;
    status = "disabled";
   };

   i2c2: i2c@30a30000 {
    compatible = "fsl,imx8mq-i2c", "fsl,imx21-i2c";
    reg = <0x30a30000 0x10000>;
    interrupts = <0 36 4>;
    clocks = <&clk 185>;
    #address-cells = <1>;
    #size-cells = <0>;
    status = "disabled";
   };

   i2c3: i2c@30a40000 {
    compatible = "fsl,imx8mq-i2c", "fsl,imx21-i2c";
    reg = <0x30a40000 0x10000>;
    interrupts = <0 37 4>;
    clocks = <&clk 186>;
    #address-cells = <1>;
    #size-cells = <0>;
    status = "disabled";
   };

   i2c4: i2c@30a50000 {
    compatible = "fsl,imx8mq-i2c", "fsl,imx21-i2c";
    reg = <0x30a50000 0x10000>;
    interrupts = <0 38 4>;
    clocks = <&clk 187>;
    #address-cells = <1>;
    #size-cells = <0>;
    status = "disabled";
   };

   uart4: serial@30a60000 {
    compatible = "fsl,imx8mq-uart",
                 "fsl,imx6q-uart";
    reg = <0x30a60000 0x10000>;
    interrupts = <0 29 4>;
    clocks = <&clk 205>,
             <&clk 205>;
    clock-names = "ipg", "per";
    dmas = <&sdma1 28 4 0>, <&sdma1 29 4 0>;
    dma-names = "rx", "tx";
    status = "disabled";
   };

   mipi_csi1: csi@30a70000 {
    compatible = "fsl,imx8mq-mipi-csi2";
    reg = <0x30a70000 0x1000>;
    clocks = <&clk 167>,
       <&clk 169>,
       <&clk 168>;
    clock-names = "core", "esc", "ui";
    assigned-clocks = <&clk 167>,
        <&clk 168>,
        <&clk 169>;
    assigned-clock-rates = <266000000>, <333000000>, <66000000>;
    assigned-clock-parents = <&clk 76>,
     <&clk 87>,
     <&clk 78>;
    power-domains = <&pgc_mipi_csi1>;
    resets = <&src 38>,
      <&src 39>,
      <&src 40>;
    fsl,mipi-phy-gpr = <&iomuxc_gpr 0x88>;
    interconnects = <&noc 14 &noc 2>;
    interconnect-names = "dram";
    status = "disabled";

    ports {
     #address-cells = <1>;
     #size-cells = <0>;

     port@1 {
      reg = <1>;

      csi1_mipi_ep: endpoint {
       remote-endpoint = <&csi1_ep>;
      };
     };
    };
   };

   csi1: csi@30a90000 {
    compatible = "fsl,imx8mq-csi";
    reg = <0x30a90000 0x10000>;
    interrupts = <0 42 4>;
    clocks = <&clk 224>;
    clock-names = "mclk";
    status = "disabled";

    port {
     csi1_ep: endpoint {
      remote-endpoint = <&csi1_mipi_ep>;
     };
    };
   };

   mipi_csi2: csi@30b60000 {
    compatible = "fsl,imx8mq-mipi-csi2";
    reg = <0x30b60000 0x1000>;
    clocks = <&clk 170>,
       <&clk 172>,
       <&clk 171>;
    clock-names = "core", "esc", "ui";
    assigned-clocks = <&clk 170>,
        <&clk 171>,
        <&clk 172>;
    assigned-clock-rates = <266000000>, <333000000>, <66000000>;
    assigned-clock-parents = <&clk 76>,
     <&clk 87>,
     <&clk 78>;
    power-domains = <&pgc_mipi_csi2>;
    resets = <&src 41>,
      <&src 42>,
      <&src 43>;
    fsl,mipi-phy-gpr = <&iomuxc_gpr 0xa4>;
    interconnects = <&noc 15 &noc 2>;
    interconnect-names = "dram";
    status = "disabled";

    ports {
     #address-cells = <1>;
     #size-cells = <0>;

     port@1 {
      reg = <1>;

      csi2_mipi_ep: endpoint {
       remote-endpoint = <&csi2_ep>;
      };
     };
    };
   };

   csi2: csi@30b80000 {
    compatible = "fsl,imx8mq-csi";
    reg = <0x30b80000 0x10000>;
    interrupts = <0 43 4>;
    clocks = <&clk 225>;
    clock-names = "mclk";
    status = "disabled";

    port {
     csi2_ep: endpoint {
      remote-endpoint = <&csi2_mipi_ep>;
     };
    };
   };

   mu: mailbox@30aa0000 {
    compatible = "fsl,imx8mq-mu", "fsl,imx6sx-mu";
    reg = <0x30aa0000 0x10000>;
    interrupts = <0 88 4>;
    clocks = <&clk 253>;
    #mbox-cells = <2>;
   };

   usdhc1: mmc@30b40000 {
    compatible = "fsl,imx8mq-usdhc",
                 "fsl,imx7d-usdhc";
    reg = <0x30b40000 0x10000>;
    interrupts = <0 22 4>;
    clocks = <&clk 236>,
             <&clk 105>,
             <&clk 210>;
    clock-names = "ipg", "ahb", "per";
    fsl,tuning-start-tap = <20>;
    fsl,tuning-step = <2>;
    bus-width = <4>;
    status = "disabled";
   };

   usdhc2: mmc@30b50000 {
    compatible = "fsl,imx8mq-usdhc",
                 "fsl,imx7d-usdhc";
    reg = <0x30b50000 0x10000>;
    interrupts = <0 23 4>;
    clocks = <&clk 236>,
             <&clk 105>,
             <&clk 211>;
    clock-names = "ipg", "ahb", "per";
    fsl,tuning-start-tap = <20>;
    fsl,tuning-step = <2>;
    bus-width = <4>;
    status = "disabled";
   };

   qspi0: spi@30bb0000 {
    #address-cells = <1>;
    #size-cells = <0>;
    compatible = "fsl,imx8mq-qspi", "fsl,imx7d-qspi";
    reg = <0x30bb0000 0x10000>,
          <0x08000000 0x10000000>;
    reg-names = "QuadSPI", "QuadSPI-memory";
    interrupts = <0 107 4>;
    clocks = <&clk 195>,
      <&clk 195>;
    clock-names = "qspi_en", "qspi";
    status = "disabled";
   };

   sdma1: dma-controller@30bd0000 {
    compatible = "fsl,imx8mq-sdma","fsl,imx7d-sdma";
    reg = <0x30bd0000 0x10000>;
    interrupts = <0 2 4>;
    clocks = <&clk 227>,
      <&clk 116>;
    clock-names = "ipg", "ahb";
    #dma-cells = <3>;
    fsl,sdma-ram-script-name = "imx/sdma/sdma-imx7d.bin";
   };

   fec1: ethernet@30be0000 {
    compatible = "fsl,imx8mq-fec", "fsl,imx6sx-fec";
    reg = <0x30be0000 0x10000>;
    interrupts = <0 118 4>,
                 <0 119 4>,
          <0 120 4>,
          <0 121 4>;
    clocks = <&clk 182>,
             <&clk 182>,
             <&clk 138>,
             <&clk 137>,
             <&clk 139>;
    clock-names = "ipg", "ahb", "ptp",
                  "enet_clk_ref", "enet_out";
    assigned-clocks = <&clk 104>,
        <&clk 138>,
        <&clk 137>,
        <&clk 139>;
    assigned-clock-parents = <&clk 76>,
        <&clk 80>,
        <&clk 81>,
        <&clk 79>;
    assigned-clock-rates = <0>, <100000000>, <125000000>, <0>;
    fsl,num-tx-queues = <3>;
    fsl,num-rx-queues = <3>;
    nvmem-cells = <&fec_mac_address>;
    nvmem-cell-names = "mac-address";
    fsl,stop-mode = <&iomuxc_gpr 0x10 3>;
    status = "disabled";
   };
  };

  noc: interconnect@32700000 {
   compatible = "fsl,imx8mq-noc", "fsl,imx8m-noc";
   reg = <0x32700000 0x100000>;
   clocks = <&clk 113>;
   fsl,ddrc = <&ddrc>;
   #interconnect-cells = <1>;
   operating-points-v2 = <&noc_opp_table>;

   noc_opp_table: opp-table {
    compatible = "operating-points-v2";

    opp-133000000 {
     opp-hz = /bits/ 64 <133333333>;
    };

    opp-400000000 {
     opp-hz = /bits/ 64 <400000000>;
    };

    opp-800000000 {
     opp-hz = /bits/ 64 <800000000>;
    };
   };
  };

  aips4: bus@32c00000 {
   compatible = "fsl,aips-bus", "simple-bus";
   reg = <0x32c00000 0x400000>;
   #address-cells = <1>;
   #size-cells = <1>;
   ranges = <0x32c00000 0x32c00000 0x400000>;

   irqsteer: interrupt-controller@32e2d000 {
    compatible = "fsl,imx8m-irqsteer", "fsl,imx-irqsteer";
    reg = <0x32e2d000 0x1000>;
    interrupts = <0 18 4>;
    clocks = <&clk 248>;
    clock-names = "ipg";
    fsl,channel = <0>;
    fsl,num-irqs = <64>;
    interrupt-controller;
    #interrupt-cells = <1>;
   };
  };

  gpu: gpu@38000000 {
   compatible = "vivante,gc";
   reg = <0x38000000 0x40000>;
   interrupts = <0 3 4>;
   clocks = <&clk 215>,
            <&clk 102>,
            <&clk 111>,
            <&clk 112>;
   clock-names = "core", "shader", "bus", "reg";
   #cooling-cells = <2>;
   assigned-clocks = <&clk 97>,
                     <&clk 100>,
                     <&clk 111>,
                     <&clk 112>,
                     <&clk 16>;
   assigned-clock-parents = <&clk 17>,
                            <&clk 17>,
                            <&clk 17>,
                            <&clk 17>,
                            <&clk 15>;
   assigned-clock-rates = <800000000>, <800000000>,
                          <800000000>, <800000000>, <0>;
   power-domains = <&pgc_gpu>;
  };

  usb_dwc3_0: usb@38100000 {
   compatible = "fsl,imx8mq-dwc3", "snps,dwc3";
   reg = <0x38100000 0x10000>;
   clocks = <&clk 206>,
            <&clk 152>,
     <&clk 1>;
   clock-names = "bus_early", "ref", "suspend";
   assigned-clocks = <&clk 110>,
                     <&clk 152>;
   assigned-clock-parents = <&clk 86>,
                            <&clk 72>;
   assigned-clock-rates = <500000000>, <100000000>;
   interrupts = <0 40 4>;
   phys = <&usb3_phy0>, <&usb3_phy0>;
   phy-names = "usb2-phy", "usb3-phy";
   power-domains = <&pgc_otg1>;
   status = "disabled";
  };

  usb3_phy0: usb-phy@381f0040 {
   compatible = "fsl,imx8mq-usb-phy";
   reg = <0x381f0040 0x40>;
   clocks = <&clk 208>;
   clock-names = "phy";
   assigned-clocks = <&clk 153>;
   assigned-clock-parents = <&clk 72>;
   assigned-clock-rates = <100000000>;
   #phy-cells = <0>;
   status = "disabled";
  };

  usb_dwc3_1: usb@38200000 {
   compatible = "fsl,imx8mq-dwc3", "snps,dwc3";
   reg = <0x38200000 0x10000>;
   clocks = <&clk 207>,
            <&clk 152>,
     <&clk 1>;
   clock-names = "bus_early", "ref", "suspend";
   assigned-clocks = <&clk 110>,
                     <&clk 152>;
   assigned-clock-parents = <&clk 86>,
                            <&clk 72>;
   assigned-clock-rates = <500000000>, <100000000>;
   interrupts = <0 41 4>;
   phys = <&usb3_phy1>, <&usb3_phy1>;
   phy-names = "usb2-phy", "usb3-phy";
   power-domains = <&pgc_otg2>;
   status = "disabled";
  };

  usb3_phy1: usb-phy@382f0040 {
   compatible = "fsl,imx8mq-usb-phy";
   reg = <0x382f0040 0x40>;
   clocks = <&clk 209>;
   clock-names = "phy";
   assigned-clocks = <&clk 153>;
   assigned-clock-parents = <&clk 72>;
   assigned-clock-rates = <100000000>;
   #phy-cells = <0>;
   status = "disabled";
  };

  vpu_g1: video-codec@38300000 {
   compatible = "nxp,imx8mq-vpu-g1";
   reg = <0x38300000 0x10000>;
   interrupts = <0 7 4>;
   clocks = <&clk 229>;
   power-domains = <&vpu_blk_ctrl 0>;
  };

  vpu_g2: video-codec@38310000 {
   compatible = "nxp,imx8mq-vpu-g2";
   reg = <0x38310000 0x10000>;
   interrupts = <0 8 4>;
   clocks = <&clk 230>;
   power-domains = <&vpu_blk_ctrl 1>;
  };

  vpu_blk_ctrl: blk-ctrl@38320000 {
   compatible = "fsl,imx8mq-vpu-blk-ctrl";
   reg = <0x38320000 0x100>;
   power-domains = <&pgc_vpu>, <&pgc_vpu>, <&pgc_vpu>;
   power-domain-names = "bus", "g1", "g2";
   clocks = <&clk 229>,
     <&clk 230>;
   clock-names = "g1", "g2";
   #power-domain-cells = <1>;
  };

  pcie0: pcie@33800000 {
   compatible = "fsl,imx8mq-pcie";
   reg = <0x33800000 0x400000>,
         <0x1ff00000 0x80000>;
   reg-names = "dbi", "config";
   #address-cells = <3>;
   #size-cells = <2>;
   device_type = "pci";
   bus-range = <0x00 0xff>;
   ranges = <0x81000000 0 0x00000000 0x1ff80000 0 0x00010000>,
     <0x82000000 0 0x18000000 0x18000000 0 0x07f00000>;
   num-lanes = <1>;
   interrupts = <0 122 4>;
   interrupt-names = "msi";
   #interrupt-cells = <1>;
   interrupt-map-mask = <0 0 0 0x7>;
   interrupt-map = <0 0 0 1 &gic 0 125 4>,
                   <0 0 0 2 &gic 0 124 4>,
                   <0 0 0 3 &gic 0 123 4>,
                   <0 0 0 4 &gic 0 122 4>;
   fsl,max-link-speed = <2>;
   linux,pci-domain = <0>;
   clocks = <&clk 189>,
     <&clk 125>,
     <&clk 125>,
     <&clk 126>;
   clock-names = "pcie", "pcie_bus", "pcie_phy", "pcie_aux";
   power-domains = <&pgc_pcie>;
   resets = <&src 26>,
            <&src 28>,
            <&src 29>;
   reset-names = "pciephy", "apps", "turnoff";
   assigned-clocks = <&clk 124>,
                     <&clk 125>,
                     <&clk 126>;
   assigned-clock-parents = <&clk 84>,
                            <&clk 80>,
                            <&clk 71>;
   assigned-clock-rates = <250000000>, <100000000>,
                          <10000000>;
   status = "disabled";
  };

  pcie1: pcie@33c00000 {
   compatible = "fsl,imx8mq-pcie";
   reg = <0x33c00000 0x400000>,
         <0x27f00000 0x80000>;
   reg-names = "dbi", "config";
   #address-cells = <3>;
   #size-cells = <2>;
   device_type = "pci";
   ranges = <0x81000000 0 0x00000000 0x27f80000 0 0x00010000>,
      <0x82000000 0 0x20000000 0x20000000 0 0x07f00000>;
   num-lanes = <1>;
   interrupts = <0 74 4>;
   interrupt-names = "msi";
   #interrupt-cells = <1>;
   interrupt-map-mask = <0 0 0 0x7>;
   interrupt-map = <0 0 0 1 &gic 0 77 4>,
     <0 0 0 2 &gic 0 76 4>,
     <0 0 0 3 &gic 0 75 4>,
     <0 0 0 4 &gic 0 74 4>;
   fsl,max-link-speed = <2>;
   linux,pci-domain = <1>;
   clocks = <&clk 190>,
     <&clk 174>,
     <&clk 174>,
     <&clk 175>;
   clock-names = "pcie", "pcie_bus", "pcie_phy", "pcie_aux";
   power-domains = <&pgc_pcie>;
   resets = <&src 34>,
            <&src 36>,
            <&src 37>;
   reset-names = "pciephy", "apps", "turnoff";
   assigned-clocks = <&clk 173>,
                     <&clk 174>,
                     <&clk 175>;
   assigned-clock-parents = <&clk 84>,
                            <&clk 80>,
                            <&clk 71>;
   assigned-clock-rates = <250000000>, <100000000>,
                          <10000000>;
   status = "disabled";
  };

  pcie1_ep: pcie-ep@33c00000 {
   compatible = "fsl,imx8mq-pcie-ep";
   reg = <0x33c00000 0x000400000>,
         <0x20000000 0x08000000>;
   reg-names = "dbi", "addr_space";
   num-lanes = <1>;
   interrupts = <0 80 4>;
   interrupt-names = "dma";
   fsl,max-link-speed = <2>;
   clocks = <&clk 190>,
     <&clk 174>,
     <&clk 174>,
     <&clk 175>;
   clock-names = "pcie", "pcie_bus", "pcie_phy", "pcie_aux";
   power-domains = <&pgc_pcie>;
   resets = <&src 34>,
     <&src 36>,
     <&src 37>;
   reset-names = "pciephy", "apps", "turnoff";
   assigned-clocks = <&clk 173>,
       <&clk 174>,
       <&clk 175>;
   assigned-clock-parents = <&clk 84>,
       <&clk 80>,
       <&clk 71>;
   assigned-clock-rates = <250000000>, <100000000>,
            <10000000>;
   num-ib-windows = <4>;
   num-ob-windows = <4>;
   status = "disabled";
  };

  gic: interrupt-controller@38800000 {
   compatible = "arm,gic-v3";
   reg = <0x38800000 0x10000>,
         <0x38880000 0xc0000>,
         <0x31000000 0x2000>,
         <0x31010000 0x2000>,
         <0x31020000 0x2000>;
   #interrupt-cells = <3>;
   interrupt-controller;
   interrupts = <1 9 4>;
   interrupt-parent = <&gic>;
  };

  ddrc: memory-controller@3d400000 {
   compatible = "fsl,imx8mq-ddrc", "fsl,imx8m-ddrc";
   reg = <0x3d400000 0x400000>;
   clock-names = "core", "pll", "alt", "apb";
   clocks = <&clk 252>,
     <&clk 234>,
     <&clk 118>,
     <&clk 119>;
   status = "disabled";
  };

  ddr-pmu@3d800000 {
   compatible = "fsl,imx8mq-ddr-pmu", "fsl,imx8m-ddr-pmu";
   reg = <0x3d800000 0x400000>;
   interrupt-parent = <&gic>;
   interrupts = <0 98 4>;
  };
 };
};
# 7 "arch/arm64/boot/dts/freescale/imx8mq-tqma8mq.dtsi" 2

/ {
 model = "TQ-Systems GmbH i.MX8MQ TQMa8MQ";
 compatible = "tq,imx8mq-tqma8mq", "fsl,imx8mq";

 memory@40000000 {
  device_type = "memory";

  reg = <0x00000000 0x40000000 0 0x40000000>;
 };


 reg_vcc1v8: regulator-vcc1v8 {
  compatible = "regulator-fixed";
  regulator-name = "TQMA8MX_VCC1V8";
  regulator-min-microvolt = <1800000>;
  regulator-max-microvolt = <1800000>;
 };

 reg_vcc3v3: regulator-vcc3v3 {
  compatible = "regulator-fixed";
  regulator-name = "TQMA8MX_VCC3V3";
  regulator-min-microvolt = <3300000>;
  regulator-max-microvolt = <3300000>;
 };

 reg_vdd_arm: regulator-vdd-arm {
  compatible = "regulator-gpio";
  pinctrl-names = "default";
  pinctrl-0 = <&pinctrl_dvfs>;
  regulator-min-microvolt = <900000>;
  regulator-max-microvolt = <1000000>;
  regulator-name = "TQMa8Mx_DVFS";
  regulator-type = "voltage";
  regulator-settling-time-us = <150000>;
  gpios = <&gpio1 6 1>;
  states = <900000 0x1 1000000 0x0>;
 };

 reserved-memory {
  #address-cells = <2>;
  #size-cells = <2>;
  ranges;


  linux,cma {
   compatible = "shared-dma-pool";
   reusable;

   size = <0 0x28000000>;

   alloc-ranges = <0 0x40000000 0 0x78000000>;
   linux,cma-default;
  };
 };
};

&A53_0 {
 cpu-supply = <&reg_vdd_arm>;
};

&A53_1 {
 cpu-supply = <&reg_vdd_arm>;
};

&A53_2 {
 cpu-supply = <&reg_vdd_arm>;
};

&A53_3 {
 cpu-supply = <&reg_vdd_arm>;
};

&gpu {
 status = "okay";
};

&pgc_gpu {
 power-supply = <&sw1a_reg>;
};

&pgc_vpu {
 power-supply = <&sw1c_reg>;
};

&i2c1 {
 clock-frequency = <100000>;
 pinctrl-names = "default", "gpio";
 pinctrl-0 = <&pinctrl_i2c1>;
 pinctrl-1 = <&pinctrl_i2c1_gpio>;
 scl-gpios = <&gpio5 14 (0 | (2 | 4))>;
 sda-gpios = <&gpio5 15 (0 | (2 | 4))>;
 status = "okay";

 pfuze100: pmic@8 {
  compatible = "fsl,pfuze100";
  fsl,pfuze-support-disable-sw;
  reg = <0x8>;

  regulators {

   sw1a_reg: sw1ab {
    regulator-min-microvolt = <825000>;
    regulator-max-microvolt = <1100000>;
   };


   sw1c_reg: sw1c {
    regulator-min-microvolt = <825000>;
    regulator-max-microvolt = <1100000>;
   };


   sw2_reg: sw2 {
    regulator-min-microvolt = <1100000>;
    regulator-max-microvolt = <1100000>;
    regulator-always-on;
   };


   sw3a_reg: sw3ab {
    regulator-min-microvolt = <825000>;
    regulator-max-microvolt = <1100000>;
    regulator-always-on;
   };


   nvcc_1v8_reg: sw4 {
    regulator-min-microvolt = <1800000>;
    regulator-max-microvolt = <1800000>;
    regulator-always-on;
   };

   swbst_reg: swbst {
    regulator-min-microvolt = <5000000>;
    regulator-max-microvolt = <5150000>;
   };

   snvs_reg: vsnvs {
    regulator-min-microvolt = <1000000>;
    regulator-max-microvolt = <3000000>;
    regulator-always-on;
   };

   vref_reg: vrefddr {
    regulator-always-on;
   };


   vgen1_reg: vgen1 {
    regulator-min-microvolt = <800000>;
    regulator-max-microvolt = <1550000>;
   };


   vgen2_reg: vgen2 {
    regulator-min-microvolt = <850000>;
    regulator-max-microvolt = <975000>;
    regulator-always-on;
   };


   vgen3_reg: vgen3 {
    regulator-min-microvolt = <1675000>;
    regulator-max-microvolt = <1975000>;
    regulator-always-on;
   };


   vgen4_reg: vgen4 {
    regulator-min-microvolt = <1625000>;
    regulator-max-microvolt = <1875000>;
    regulator-always-on;
   };


   vgen5_reg: vgen5 {
    regulator-min-microvolt = <3075000>;
    regulator-max-microvolt = <3625000>;
    regulator-always-on;
   };


   vgen6_reg: vgen6 {
    regulator-min-microvolt = <1800000>;
    regulator-max-microvolt = <3300000>;
   };
  };
 };

 sensor0: temperature-sensor@1b {
  compatible = "nxp,se97b", "jedec,jc-42.4-temp";
  reg = <0x1b>;
 };

 pcf85063: rtc@51 {
  compatible = "nxp,pcf85063a";
  reg = <0x51>;
  pinctrl-names = "default";
  pinctrl-0 = <&pinctrl_rtc>;
  interrupt-parent = <&gpio1>;
  interrupts = <1 2>;
  quartz-load-femtofarads = <7000>;

  clock {
   compatible = "fixed-clock";
   #clock-cells = <0>;
   clock-frequency = <32768>;
  };
 };

 eeprom1: eeprom@53 {
  compatible = "nxp,se97b", "atmel,24c02";
  reg = <0x53>;
  pagesize = <16>;
  read-only;
  vcc-supply = <&reg_vcc3v3>;
 };

 eeprom0: eeprom@57 {
  compatible = "atmel,24c64";
  reg = <0x57>;
  pagesize = <32>;
  vcc-supply = <&reg_vcc3v3>;
 };
};

&pcie0 {

 vph-supply = <&vgen5_reg>;
};

&pcie1 {

 vph-supply = <&vgen5_reg>;
};

&qspi0 {
 pinctrl-names = "default";
 pinctrl-0 = <&pinctrl_qspi>;
 assigned-clocks = <&clk 141>;
 assigned-clock-parents = <&clk 76>;
 status = "okay";

 flash0: flash@0 {
  compatible = "jedec,spi-nor";
  reg = <0>;
  #address-cells = <1>;
  #size-cells = <1>;
  spi-max-frequency = <84000000>;
  spi-tx-bus-width = <1>;
  spi-rx-bus-width = <4>;
 };
};

&usdhc1 {
 pinctrl-names = "default", "state_100mhz", "state_200mhz";
 pinctrl-0 = <&pinctrl_usdhc1>;
 pinctrl-1 = <&pinctrl_usdhc1_100mhz>;
 pinctrl-2 = <&pinctrl_usdhc1_200mhz>;
 bus-width = <8>;
 non-removable;
 no-sd;
 no-sdio;
 vmmc-supply = <&reg_vcc3v3>;
 vqmmc-supply = <&reg_vcc1v8>;
 status = "okay";
};


&wdog1 {
 status = "okay";
};

&iomuxc {
 pinctrl_dvfs: dvfsgrp {
  fsl,pins = <0x040 0x2A8 0x000 0x0 0x0 0x16>;
 };

 pinctrl_i2c1: i2c1grp {
  fsl,pins = <0x214 0x47C 0x000 0x0 0x0 0x4000007f>,
      <0x218 0x480 0x000 0x0 0x0 0x4000007f>;
 };

 pinctrl_i2c1_gpio: i2c1gpiogrp {
  fsl,pins = <0x214 0x47C 0x000 0x5 0x0 0x40000074>,
      <0x218 0x480 0x000 0x5 0x0 0x40000074>;
 };

 pinctrl_qspi: qspigrp {
  fsl,pins = <0x0F4 0x35C 0x000 0x1 0x0 0x97>,
      <0x0F8 0x360 0x000 0x1 0x0 0x82>,
      <0x10C 0x374 0x000 0x1 0x0 0x97>,
      <0x110 0x378 0x000 0x1 0x0 0x97>,
      <0x114 0x37C 0x000 0x1 0x0 0x97>,
      <0x118 0x380 0x000 0x1 0x0 0x97>;
 };

 pinctrl_rtc: rtcgrp {
  fsl,pins = <0x02C 0x294 0x000 0x0 0x0 0x41>;
 };

 pinctrl_usdhc1: usdhc1grp {
  fsl,pins = <0x0A0 0x308 0x000 0x0 0x0 0x83>,
      <0x0A4 0x30C 0x000 0x0 0x0 0xc3>,
      <0x0A8 0x310 0x000 0x0 0x0 0xc3>,
      <0x0AC 0x314 0x000 0x0 0x0 0xc3>,
      <0x0B0 0x318 0x000 0x0 0x0 0xc3>,
      <0x0B4 0x31C 0x000 0x0 0x0 0xc3>,
      <0x0B8 0x320 0x000 0x0 0x0 0xc3>,
      <0x0BC 0x324 0x000 0x0 0x0 0xc3>,
      <0x0C0 0x328 0x000 0x0 0x0 0xc3>,
      <0x0C4 0x32C 0x000 0x0 0x0 0xc3>,
      <0x0CC 0x334 0x000 0x0 0x0 0x83>,
      <0x0C8 0x330 0x000 0x0 0x0 0xc1>;
 };

 pinctrl_usdhc1_100mhz: usdhc1-100mhzgrp {
  fsl,pins = <0x0A0 0x308 0x000 0x0 0x0 0x85>,
      <0x0A4 0x30C 0x000 0x0 0x0 0xc5>,
      <0x0A8 0x310 0x000 0x0 0x0 0xc5>,
      <0x0AC 0x314 0x000 0x0 0x0 0xc5>,
      <0x0B0 0x318 0x000 0x0 0x0 0xc5>,
      <0x0B4 0x31C 0x000 0x0 0x0 0xc5>,
      <0x0B8 0x320 0x000 0x0 0x0 0xc5>,
      <0x0BC 0x324 0x000 0x0 0x0 0xc5>,
      <0x0C0 0x328 0x000 0x0 0x0 0xc5>,
      <0x0C4 0x32C 0x000 0x0 0x0 0xc5>,
      <0x0CC 0x334 0x000 0x0 0x0 0x85>,
      <0x0C8 0x330 0x000 0x0 0x0 0xc1>;
 };

 pinctrl_usdhc1_200mhz: usdhc1-200mhzgrp {
  fsl,pins = <0x0A0 0x308 0x000 0x0 0x0 0x87>,
      <0x0A4 0x30C 0x000 0x0 0x0 0xc7>,
      <0x0A8 0x310 0x000 0x0 0x0 0xc7>,
      <0x0AC 0x314 0x000 0x0 0x0 0xc7>,
      <0x0B0 0x318 0x000 0x0 0x0 0xc7>,
      <0x0B4 0x31C 0x000 0x0 0x0 0xc7>,
      <0x0B8 0x320 0x000 0x0 0x0 0xc7>,
      <0x0BC 0x324 0x000 0x0 0x0 0xc7>,
      <0x0C0 0x328 0x000 0x0 0x0 0xc7>,
      <0x0C4 0x32C 0x000 0x0 0x0 0xc7>,
      <0x0CC 0x334 0x000 0x0 0x0 0x87>,
      <0x0C8 0x330 0x000 0x0 0x0 0xc1>;
 };

 pinctrl_wdog: wdoggrp {
  fsl,pins = <0x030 0x298 0x000 0x1 0x0 0xc6>;
 };
};
# 9 "arch/arm64/boot/dts/freescale/imx8mq-tqma8mq-mba8mx.dts" 2
# 1 "arch/arm64/boot/dts/freescale/mba8mx.dtsi" 1





# 1 "./scripts/dtc/include-prefixes/dt-bindings/net/ti-dp83867.h" 1
# 7 "arch/arm64/boot/dts/freescale/mba8mx.dtsi" 2



/ {
 beeper {
  compatible = "pwm-beeper";
  pwms = <&pwm4 0 250000 0>;
  beeper-hz = <4000>;
  amp-supply = <&reg_vcc_3v3>;
 };

 chosen {
  stdout-path = &uart3;
 };

 gpio-keys {
  compatible = "gpio-keys";
  pinctrl-names = "default";
  pinctrl-0 = <&pinctrl_gpiobutton>;
  autorepeat;

  switch-1 {
   label = "switch1";
   linux,code = <0x100>;
   gpios = <&gpio1 5 1>;
   wakeup-source;
  };

  btn2: switch-2 {
   label = "switch2";
   linux,code = <0x101>;
   gpios = <&gpio2 0 1>;
   wakeup-source;
  };

  switch-3 {
   label = "switch3";
   linux,code = <0x102>;
   gpios = <&gpio1 7 1>;
   wakeup-source;
  };
 };

 gpio_leds: gpio-leds {
  compatible = "gpio-leds";
  pinctrl-names = "default";
  pinctrl-0 = <&pinctrl_gpioled>;

  led1 {
   label = "led1";
   gpios = <&gpio1 0 0>;
   linux,default-trigger = "default-on";
  };

  led2: led2 {
   label = "led2";
   gpios = <&gpio3 14 0>;
   linux,default-trigger = "heartbeat";
  };
 };

 pcie0_refclk: pcie0-refclk {
  compatible = "fixed-clock";
  #clock-cells = <0>;
  clock-frequency = <100000000>;
 };

 reg_hub_vbus: regulator-hub-vbus {
  compatible = "regulator-fixed";
  regulator-name = "MBA8MX_HUB_VBUS";
  regulator-min-microvolt = <5000000>;
  regulator-max-microvolt = <5000000>;
 };

 reg_sn65dsi83_1v8: regulator-sn65dsi83-1v8 {
  compatible = "regulator-fixed";
  regulator-name = "SN65DSI83_1V8";
  regulator-min-microvolt = <1800000>;
  regulator-max-microvolt = <1800000>;
  gpio = <&expander0 5 0>;
  enable-active-high;
 };

 reg_vcc_3v3: regulator-3v3 {
  compatible = "regulator-fixed";
  regulator-name = "MBA8MX_3V3";
  regulator-min-microvolt = <3300000>;
  regulator-max-microvolt = <3300000>;
 };

 sound {
  compatible = "fsl,imx-audio-tlv320aic32x4";
  model = "imx-audio-tlv320aic32x4";
  ssi-controller = <&sai3>;
  audio-codec = <&tlv320aic3x04>;
 };
};

&ecspi1 {
 pinctrl-names = "default";
 pinctrl-0 = <&pinctrl_ecspi1>;
 cs-gpios = <&gpio5 9 1>;
 status = "okay";
};

&ecspi2 {
 pinctrl-names = "default";
 pinctrl-0 = <&pinctrl_ecspi2>;
 cs-gpios = <&gpio5 13 1>;
 status = "okay";
};

&fec1 {
 pinctrl-names = "default";
 pinctrl-0 = <&pinctrl_fec1>;
 phy-mode = "rgmii-id";
 phy-handle = <&ethphy0>;
 phy-supply = <&reg_vcc_3v3>;
 fsl,magic-packet;
 mac-address = [ 00 00 00 00 00 00 ];
 status = "okay";

 mdio {
  #address-cells = <1>;
  #size-cells = <0>;

  ethphy0: ethernet-phy@e {
   compatible = "ethernet-phy-ieee802.3-c22";
   reg = <0xe>;
   ti,rx-internal-delay = <0x9>;
   ti,tx-internal-delay = <0x9>;
   ti,fifo-depth = <0x01>;
   ti,dp83867-rxctrl-strap-quirk;
   ti,clk-output-sel = <0xFFFFFFFF>;
   enet-phy-lane-no-swap;
   reset-gpios = <&expander2 7 1>;
   reset-assert-us = <500000>;
   reset-deassert-us = <500>;
  };
 };
};

&i2c1 {
 expander0: gpio@23 {
  compatible = "nxp,pca9555";
  reg = <0x23>;
  gpio-controller;
  #gpio-cells = <2>;
  vcc-supply = <&reg_vcc_3v3>;
  interrupt-parent = <&gpio1>;
  interrupts = <9 2>;
  interrupt-controller;
  #interrupt-cells = <2>;

  sd-mux-oe-hog {
   gpio-hog;
   gpios = <8 0>;
   output-low;
   line-name = "SD_MUX_EN#";
  };

  boot-cfg-oe-hog {
   gpio-hog;
   gpios = <12 0>;
   output-high;
   line-name = "BOOT_CFG_OE#";
  };

  rst-usb-hub-hog {
   gpio-hog;
   gpios = <13 0>;
   output-high;
   line-name = "RST_USB_HUB#";
  };
 };

 expander1: gpio@24 {
  compatible = "nxp,pca9555";
  reg = <0x24>;
  gpio-controller;
  #gpio-cells = <2>;
  vcc-supply = <&reg_vcc_3v3>;
 };
};

&i2c2 {
 clock-frequency = <100000>;
 pinctrl-names = "default", "gpio";
 pinctrl-0 = <&pinctrl_i2c2>;
 pinctrl-1 = <&pinctrl_i2c2_gpio>;
 scl-gpios = <&gpio5 16 (0 | (2 | 4))>;
 sda-gpios = <&gpio5 17 (0 | (2 | 4))>;
 status = "okay";

 tlv320aic3x04: audio-codec@18 {
  compatible = "ti,tlv320aic32x4";
  reg = <0x18>;
  reset-gpios = <&expander2 0 1>;
  iov-supply = <&reg_vcc_3v3>;
  ldoin-supply = <&reg_vcc_3v3>;
 };

 sensor1: temperator-sensor@1f {
  compatible = "nxp,se97b", "jedec,jc-42.4-temp";
  reg = <0x1f>;
 };

 eeprom3: eeprom@57 {
  compatible = "nxp,se97b", "atmel,24c02";
  reg = <0x57>;
  pagesize = <16>;
  vcc-supply = <&reg_vcc_3v3>;
 };
};

&i2c3 {
 clock-frequency = <100000>;
 pinctrl-names = "default", "gpio";
 pinctrl-0 = <&pinctrl_i2c3>;
 pinctrl-1 = <&pinctrl_i2c3_gpio>;
 scl-gpios = <&gpio5 18 (0 | (2 | 4))>;
 sda-gpios = <&gpio5 19 (0 | (2 | 4))>;
 status = "okay";
};

&pwm3 {
 pinctrl-names = "default";
 pinctrl-0 = <&pinctrl_pwm3>;
 status = "okay";
};

&pwm4 {
 pinctrl-names = "default";
 pinctrl-0 = <&pinctrl_pwm4>;
 status = "okay";
};

&sai3 {
 pinctrl-names = "default";
 pinctrl-0 = <&pinctrl_sai3>;
 #sound-dai-cells = <0>;
 assigned-clock-rates = <49152000>;
 status = "okay";
};

&snvs_pwrkey {
 status = "okay";
};

&uart1 {
 pinctrl-names = "default";
 pinctrl-0 = <&pinctrl_uart1>;
 status = "okay";
};

&uart2 {
 pinctrl-names = "default";
 pinctrl-0 = <&pinctrl_uart2>;
 status = "okay";
};


&uart3 {
 pinctrl-names = "default";
 pinctrl-0 = <&pinctrl_uart3>;
 status = "okay";
};

&usdhc2 {
 pinctrl-names = "default", "state_100mhz", "state_200mhz";
 pinctrl-0 = <&pinctrl_usdhc2>, <&pinctrl_usdhc2_gpio>;
 pinctrl-1 = <&pinctrl_usdhc2_100mhz>, <&pinctrl_usdhc2_gpio>;
 pinctrl-2 = <&pinctrl_usdhc2_200mhz>, <&pinctrl_usdhc2_gpio>;
 bus-width = <4>;
 cd-gpios = <&gpio2 12 1>;
 disable-wp;
 no-mmc;
 no-sdio;
 vmmc-supply = <&reg_usdhc2_vmmc>;
 status = "okay";
};
# 10 "arch/arm64/boot/dts/freescale/imx8mq-tqma8mq-mba8mx.dts" 2

/ {
 model = "TQ-Systems GmbH i.MX8MQ TQMa8MQ on MBa8Mx";
 compatible = "tq,imx8mq-tqma8mq-mba8mx", "tq,imx8mq-tqma8mq", "fsl,imx8mq";

 aliases {
  eeprom0 = &eeprom3;
  mmc0 = &usdhc1;
  mmc1 = &usdhc2;
  rtc0 = &pcf85063;
  rtc1 = &snvs_rtc;
 };

 extcon_usbotg: extcon-usbotg0 {
  compatible = "linux,extcon-usb-gpio";
  pinctrl-names = "default";
  pinctrl-0 = <&pinctrl_usbcon0>;
  id-gpio = <&gpio1 10 0>;
 };

 pcie0_refclk: pcie0-refclk {
  compatible = "fixed-clock";
  #clock-cells = <0>;
  clock-frequency = <100000000>;
 };

 pcie1_refclk: pcie1-refclk {
  compatible = "fixed-clock";
  #clock-cells = <0>;
  clock-frequency = <100000000>;
 };

 reg_otg_vbus: regulator-otg-vbus {
  compatible = "regulator-fixed";
  pinctrl-names = "default";
  pinctrl-0 = <&pinctrl_regotgvbus>;
  regulator-name = "MBA8MQ_OTG_VBUS";
  regulator-min-microvolt = <5000000>;
  regulator-max-microvolt = <5000000>;
  gpio = <&gpio1 12 0>;
  enable-active-high;
 };

 reg_usdhc2_vmmc: regulator-vmmc {
  compatible = "regulator-fixed";
  regulator-name = "VSD_3V3";
  regulator-min-microvolt = <3300000>;
  regulator-max-microvolt = <3300000>;
  gpio = <&gpio2 19 0>;
  enable-active-high;
 };
};

&btn2 {
 gpios = <&gpio3 17 1>;
};

&gpio_leds {
 led3 {
  label = "led3";
  gpios = <&gpio1 8 0>;
 };
};

&i2c1 {
 expander2: gpio@25 {
  compatible = "nxp,pca9555";
  reg = <0x25>;
  gpio-controller;
  #gpio-cells = <2>;
  vcc-supply = <&reg_vcc_3v3>;
  pinctrl-names = "default";
  pinctrl-0 = <&pinctrl_expander>;
  interrupt-parent = <&gpio1>;
  interrupts = <9 2>;
  interrupt-controller;
  #interrupt-cells = <2>;

  mpcie-rst-hog {
   gpio-hog;
   gpios = <13 0>;
   output-high;
   line-name = "MPCIE_RST#";
  };
 };
};

&irqsteer {
 status = "okay";
};

&led2 {
 gpios = <&gpio3 16 0>;
};

&pcie0 {
 reset-gpio = <&expander0 14 1>;
 clocks = <&clk 189>,
   <&pcie0_refclk>,
   <&clk 125>,
   <&clk 126>;
 epdev_on-supply = <&reg_vcc_3v3>;
 hard-wired = <1>;
 status = "okay";
};





&pcie1 {
 clocks = <&clk 190>,
   <&pcie1_refclk>,
   <&clk 174>,
   <&clk 175>;
 epdev_on-supply = <&reg_vcc_3v3>;
 hard-wired = <1>;
 status = "okay";
};

&sai3 {
 assigned-clocks = <&clk 131>;
 assigned-clock-parents = <&clk 27>;
 clock-names = "bus", "mclk0", "mclk1", "mclk2", "mclk3", "pll8k", "pll11k";
 clocks = <&clk 240>, <&clk 0>,
  <&clk 198>, <&clk 0>,
  <&clk 0>, <&clk 27>,
  <&clk 32>;
};

&tlv320aic3x04 {
 clock-names = "mclk";
 clocks = <&clk 198>;
};

&uart1 {
 assigned-clocks = <&clk 148>;
 assigned-clock-parents = <&clk 71>;
};

&uart2 {
 assigned-clocks = <&clk 149>;
 assigned-clock-parents = <&clk 71>;
};


&uart3 {
 assigned-clocks = <&clk 150>;
 assigned-clock-parents = <&clk 2>;
};

&usb3_phy0 {
 vbus-supply = <&reg_otg_vbus>;
 status = "okay";
};

&usb_dwc3_0 {

 extcon = <&extcon_usbotg>;
 hnp-disable;
 srp-disable;
 adp-disable;
 dr_mode = "otg";
 status = "okay";
};

&usb3_phy1 {
 status = "okay";
};

&usb_dwc3_1 {
 status = "okay";
 dr_mode = "host";
};

&wdog1 {
 pinctrl-names = "default";
 pinctrl-0 = <&pinctrl_wdog>;
 fsl,ext-reset-output;
 status = "okay";
};

&iomuxc {
 pinctrl_ecspi1: ecspi1grp {
  fsl,pins = <0x1F4 0x45C 0x000 0x0 0x0 0x0000004e>,
      <0x1F8 0x460 0x000 0x0 0x0 0x0000004e>,
      <0x1FC 0x464 0x000 0x0 0x0 0x0000004e>,
      <0x200 0x468 0x000 0x5 0x0 0x0000004e>;
 };

 pinctrl_ecspi2: ecspi2grp {
  fsl,pins = <0x204 0x46C 0x000 0x0 0x0 0x0000004e>,
      <0x208 0x470 0x000 0x0 0x0 0x0000004e>,
      <0x20C 0x474 0x000 0x0 0x0 0x0000004e>,
      <0x210 0x478 0x000 0x5 0x0 0x0000004e>;
 };

 pinctrl_expander: expandergrp {
  fsl,pins = <0x04C 0x2B4 0x000 0x0 0x0 0xd6>;
 };

 pinctrl_fec1: fec1grp {
  fsl,pins = <0x068 0x2D0 0x000 0x0 0x0 0x3>,
      <0x06C 0x2D4 0x4C0 0x0 0x1 0x23>,
      <0x070 0x2D8 0x000 0x0 0x0 0x1f>,
      <0x074 0x2DC 0x000 0x0 0x0 0x1f>,
      <0x078 0x2E0 0x000 0x0 0x0 0x1f>,
      <0x07C 0x2E4 0x000 0x0 0x0 0x1f>,
      <0x09C 0x304 0x000 0x0 0x0 0x91>,
      <0x098 0x300 0x000 0x0 0x0 0x91>,
      <0x094 0x2FC 0x000 0x0 0x0 0x91>,
      <0x090 0x2F8 0x000 0x0 0x0 0x91>,
      <0x084 0x2EC 0x000 0x0 0x0 0x1f>,
      <0x08C 0x2F4 0x000 0x0 0x0 0x91>,
      <0x088 0x2F0 0x000 0x0 0x0 0x91>,
      <0x080 0x2E8 0x000 0x0 0x0 0x1f>;
 };

 pinctrl_gpiobutton: gpiobuttongrp {
  fsl,pins = <0x03C 0x2A4 0x000 0x0 0x0 0x41>,
      <0x044 0x2AC 0x000 0x0 0x0 0x41>,
      <0x138 0x3A0 0x000 0x5 0x0 0x41>;
 };

 pinctrl_gpioled: gpioledgrp {
  fsl,pins = <0x028 0x290 0x000 0x0 0x0 0x41>,
      <0x048 0x2B0 0x000 0x0 0x0 0x41>,
      <0x134 0x39C 0x000 0x5 0x0 0x41>;
 };

 pinctrl_i2c2: i2c2grp {
  fsl,pins = <0x21C 0x484 0x000 0x0 0x0 0x40000067>,
      <0x220 0x488 0x000 0x0 0x0 0x40000067>;
 };

 pinctrl_i2c2_gpio: i2c2gpiogrp {
  fsl,pins = <0x21C 0x484 0x000 0x5 0x0 0x40000067>,
      <0x220 0x488 0x000 0x5 0x0 0x40000067>;
 };

 pinctrl_i2c3: i2c3grp {
  fsl,pins = <0x224 0x48C 0x000 0x0 0x0 0x40000067>,
      <0x228 0x490 0x000 0x0 0x0 0x40000067>;
 };

 pinctrl_i2c3_gpio: i2c3gpiogrp {
  fsl,pins = <0x224 0x48C 0x000 0x5 0x0 0x40000067>,
      <0x228 0x490 0x000 0x5 0x0 0x40000067>;
 };

 pinctrl_pwm3: pwm3grp {
  fsl,pins = <0x060 0x2C8 0x000 0x5 0x0 0x16>;
 };

 pinctrl_pwm4: pwm4grp {
  fsl,pins = <0x064 0x2CC 0x000 0x5 0x0 0x16>;
 };

 pinctrl_regotgvbus: reggotgvbusgrp {

  fsl,pins = <0x058 0x2C0 0x000 0x0 0x0 0x06>;
 };

 pinctrl_reg_usdhc2_vmmc: regusdhc2vmmcgrp {
  fsl,pins = <0x0EC 0x354 0x000 0x5 0x0 0xc1>;
 };

 pinctrl_sai3: sai3grp {
  fsl,pins = <0x1E4 0x44C 0x000 0x0 0x0 0xd6>,
      <0x1D0 0x438 0x000 0x0 0x0 0xd6>,
      <0x1CC 0x434 0x000 0x0 0x0 0xd6>,
      <0x1D4 0x43C 0x000 0x0 0x0 0xd6>,
      <0x1D8 0x440 0x000 0x0 0x0 0xd6>,
      <0x1E0 0x448 0x000 0x0 0x0 0xd6>,
      <0x1DC 0x444 0x000 0x0 0x0 0xd6>;
 };

 pinctrl_uart1: uart1grp {
  fsl,pins = <0x234 0x49C 0x4F4 0x0 0x0 0x79>,
      <0x238 0x4A0 0x000 0x0 0x0 0x79>;
 };

 pinctrl_uart2: uart2grp {
  fsl,pins = <0x23C 0x4A4 0x4FC 0x0 0x0 0x79>,
      <0x240 0x4A8 0x000 0x0 0x0 0x79>;
 };

 pinctrl_uart3: uart3grp {
  fsl,pins = <0x244 0x4AC 0x504 0x0 0x2 0x79>,
      <0x248 0x4B0 0x000 0x0 0x0 0x79>;
 };

 pinctrl_uart4: uart4grp {
  fsl,pins = <0x24C 0x4B4 0x50C 0x0 0x2 0x79>,
      <0x250 0x4B8 0x000 0x0 0x0 0x79>;
 };

 pinctrl_usbcon0: usb0congrp {

  fsl,pins = <0x050 0x2B8 0x000 0x0 0x0 0xe6>;
 };

 pinctrl_usdhc2: usdhc2grp {
  fsl,pins = <0x0D4 0x33C 0x000 0x0 0x0 0x83>,
      <0x0D8 0x340 0x000 0x0 0x0 0xc3>,
      <0x0DC 0x344 0x000 0x0 0x0 0xc3>,
      <0x0E0 0x348 0x000 0x0 0x0 0xc3>,
      <0x0E4 0x34C 0x000 0x0 0x0 0xc3>,
      <0x0E8 0x350 0x000 0x0 0x0 0xc3>,
      <0x038 0x2A0 0x000 0x1 0x0 0xc1>;
 };

 pinctrl_usdhc2_100mhz: usdhc2-100mhzgrp {
  fsl,pins = <0x0D4 0x33C 0x000 0x0 0x0 0x85>,
      <0x0D8 0x340 0x000 0x0 0x0 0xc5>,
      <0x0DC 0x344 0x000 0x0 0x0 0xc5>,
      <0x0E0 0x348 0x000 0x0 0x0 0xc5>,
      <0x0E4 0x34C 0x000 0x0 0x0 0xc5>,
      <0x0E8 0x350 0x000 0x0 0x0 0xc5>,
      <0x038 0x2A0 0x000 0x1 0x0 0xc1>;
 };

 pinctrl_usdhc2_200mhz: usdhc2-200mhzgrp {
  fsl,pins = <0x0D4 0x33C 0x000 0x0 0x0 0x9f>,
      <0x0D8 0x340 0x000 0x0 0x0 0xc7>,
      <0x0DC 0x344 0x000 0x0 0x0 0xc7>,
      <0x0E0 0x348 0x000 0x0 0x0 0xc7>,
      <0x0E4 0x34C 0x000 0x0 0x0 0xc7>,
      <0x0E8 0x350 0x000 0x0 0x0 0xc7>,
      <0x038 0x2A0 0x000 0x1 0x0 0xc1>;
 };

 pinctrl_usdhc2_gpio: usdhc2-gpiogrp {
  fsl,pins = <0x0D0 0x338 0x000 0x5 0x0 0x41>;
 };
};
